<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!--
 - Copyright (C) 2010 Google Inc.
 -
 - Licensed under the Apache License, Version 2.0 (the "License");
 - you may not use this file except in compliance with the License.
 - You may obtain a copy of the License at
 -
 -      http://www.apache.org/licenses/LICENSE-2.0
 -
 - Unless required by applicable law or agreed to in writing, software
 - distributed under the License is distributed on an "AS IS" BASIS,
 - WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 - See the License for the specific language governing permissions and
 - limitations under the License.
-->

<html>
  <head>
    <!-- Pick your cajoling and library server here: -->
    <base href="http://caja.appspot.com/"> <!-- public test server -->
    <!-- <base href="http://localhost:8080/"> - 'ant runserver' locally -->
    
    <meta name="keywords" content="caja, trivial container, safe, javascript,
        object capabilities">
    <meta name="description" content="Demo trivial container">
    <meta http-equiv="content-language" content="en">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="author" content="Jasvir Nagra (jasvir@gmail.com)">
    <meta name="distribution" content="Global">
    <meta name="copyright" content="Apache Public License">
    <meta name="robots" content="follow,index">

    <title>Dynamic-Loading Caja Container</title>
    
    <script type="text/javascript" src="domita-minified.js"></script>
    <script type="text/javascript" src="log-to-console.js" ></script>
    <script type="text/javascript" src="setup-valija.js"   ></script>
    <script type="text/javascript" src="valija.out.js"     ></script>
    <script type="text/javascript" src="uri.js"            ></script>
    <script type="text/javascript" src="cajita-promise.js" ></script>
    <script type="text/javascript" src="cajita-module.js"  ></script>
    <script type="text/javascript" src="host-tools.js"     ></script>

    <link rel="stylesheet" href="caja-gadget.css" type="text/css">
  </head>

  <body>
    <div id="container"></div>
    <script type="text/javascript">
      var ht = new HostTools();
      
      function loadGadget(url) {
          var containerDiv = document.createElement('div');
          document.getElementById("container").appendChild(containerDiv);
          
          var sandbox = new ht.Sandbox();
          sandbox.attach(containerDiv);
          sandbox.run(url);
      }
    </script>

    <script>
      loadGadget('http://www.thinkfu.com/trivial.html');
    </script>
    <script>
      loadGadget('http://www.thinkfu.com/trivial.html');
    </script>
</body> 
</html> 